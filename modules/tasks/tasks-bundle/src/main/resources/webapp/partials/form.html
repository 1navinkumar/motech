<div class="row-fluid tab-frame create-edit-task">
    <h4 ng-hide="task._id" class="frame-title">{{msg('section.newTask')}} <a href="#/tasks/dashboard" type="button" class="btn btn-danger btn-in-frame-header pull-right"><i class="icon-remove icon-white"></i></a></h4>
    <h4 ng-show="task._id" class="frame-title">{{msg('section.editTask')}} <a href="#/tasks/dashboard" type="button" class="btn btn-primary btn-in-frame-header pull-right"><i class="icon-mail-reply icon-white"></i></a></h4>
    <div class="inside">
        <div ng-show="task.validationErrors.length" class="alert alert-block alert-error">
            <strong>{{msg('header.taskErrors')}}:</strong>
            <ul>
                <li ng-repeat="error in task.validationErrors">
                    {{getTaskValidationError(error)}}
                </li>
            </ul>
        </div>
    </div>
    <div>
        <div class="row-fluid margin-before">
            <form class="inside task form-horizontal">
                <!------------------ ENTER TASK NAME ------------------>
                <div class="inside-0">
                    <div class="control-group" ng-class="{error: !task.name}">
                        <label class="control-label task-label">{{msg('task.name')}}</label>
                        <div class="controls">
                            <input class="span8" type='text' ng-model='task.name' id="task.name" maxlength="30"/>
                        </div>
                    </div>
                </div>

                <!------------------ ENTER TASK DESCRIPTION ------------------>
                <div class="inside-0">
                    <div class="control-group">
                        <label class="control-label task-label">{{msg('section.taskDescription')}}</label>
                        <div class="controls">
                            <textarea class="span8" ng-model="task.description"></textarea>
                        </div>
                    </div>
                </div>

                <!------------------ SELECT TRIGGER ------------------>
                <div class="accordion" id="select-trigger" overflow-change expand-accordion>
                    <div class="task-group">
                        <div class="accordion-heading">
                            <div class="accordion-toggle inbox-header" style="cursor: auto;">
                                <i class="icon-caret-down icon-fixed-width icon-large" data-toggle="collapse" data-parent="#select-trigger" href="#collapse-trigger" style="cursor: pointer;"></i> {{msg('header.trigger')}}
                                <span ng-hide="!task.trigger.displayName">
                                    &raquo; {{msg(task.trigger.channelName)}} : {{msg(task.trigger.displayName)}}
                                </span>
                            </div>
                        </div>
                        <div id="collapse-trigger" class="accordion-body stripes-bg collapse in overflowChange" style="overflow: visible;">
                            <div class="accordion-inner">
                                <div class="section-source">
                                    <ul class="task-selector" style="position: relative;">
                                        <li class="task-panel" style="cursor: pointer;" ng-repeat="channel in util.channels.withTriggers(channels)">
                                            <div id="trigger-{{channel.moduleName}}" select-event="trigger">
                                                <div>
                                                    <a ng-click="removeTrigger($event)" ui-if="task.trigger && task.trigger.moduleName == channel.moduleName">
                                                        <i class="icon-remove icon-white close-channel"></i>
                                                    </a>
                                                    <img ng-src="../tasks/api/channel/icon?moduleName={{channel.moduleName}}&moduleVersion={{channel.moduleVersion}}" class="panel-img" />
                                                </div>
                                                <span>{{msg(channel.displayName)}}</span>
                                                <div class="content-task popover right" style="display:none; margin-left:125px;">
                                                    <h3 class="popover-title" style="display: block;">{{msg('tooltip.availableTriggers')}}</h3>
                                                    <div class="popover-content">
                                                        <ul>
                                                            <li ng-repeat="trigger in channel.triggerTaskEvents">
                                                                <a ng-click="selectTrigger(channel, trigger)">{{msg(trigger.displayName)}}</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div ng-hide="!task.trigger.subject">
                    <div ng-repeat="step in task.taskConfig.steps">
                        <div ui-if="step['@type'] == 'FilterSet'" class="accordion" id="step-{{step.order}}" overflow-change expand-accordion>
                            <div class="task-group">
                                <div class="accordion-heading">
                                    <div class="pull-right">
                                        <button ng-click="removeFilterSet(step)" class="btn btn-danger btn-in-heading">
                                            <i class="icon-remove icon-white"></i>
                                        </button>
                                    </div>
                                    <a class="accordion-toggle inbox-header">
                                        <i class="icon-caret-down icon-fixed-width icon-large" data-toggle="collapse" data-parent="#filter-set-{{step.order}}" href="#collapse-step-{{step.order}}" style="cursor: pointer;"></i>
                                        {{msg('section.filters')}}
                                    </a>
                                </div>
                                <div id="collapse-step-{{step.order}}" class="accordion-body stripes-bg collapse in overflowChange" style="overflow: visible;">
                                    <div class="accordion-inner centered inside">
                                        <form id="filtersForm" name="filterForm" class="form-horizontal">
                                            <div class="margin-center margin-before">
                                                <div ng-repeat="filter in step.filters">
                                                    <div class="form-inline">
                                                        <div class="control-group">
                                                            <span class="validation-area">
                                                                <div class="btn-group">
                                                                    <a class="btn dropdown-toggle dropdown-large-fluid" data-toggle="dropdown" href="#" ng-class="{'btn-danger': !filter.key}">
                                                                        <span ng-show="filter.key && filter.displayName">{{filter.displayName}}</span>
                                                                        <span ng-hide="filter.key && filter.displayName">{{msg('info.filter.select')}}</span>
                                                                        <span class="caret"></span>
                                                                    </a>
                                                                    <ul class="dropdown-menu">
                                                                        <li class="dropdown-submenu">
                                                                            <a tabindex="-1">{{msg('header.trigger')}}</a>
                                                                            <ul class="dropdown-menu">
                                                                                <li ng-repeat="option in selectedTrigger.eventParameters">
                                                                                    <a ng-click="selectParam(filter, 'trigger', option)">{{msg(option.displayName)}}</a>
                                                                                </li>
                                                                            </ul>
                                                                        </li>
                                                                        <li ng-show="ds.displayName != undefined" class="dropdown-submenu" ng-repeat="ds in getDataSources() | orderLessThan:step.order">
                                                                            <a tabindex="-1">{{msg(ds.displayName)}}#{{ds.objectId}} ({{msg(ds.providerName)}})</a>
                                                                            <ul class="dropdown-menu">
                                                                                <li ng-repeat="field in findObject(ds.providerId, ds.type).fields">
                                                                                    <a ng-click="selectParam(filter, 'ad', ds, field)">{{msg(field.displayName)}}</a>
                                                                                </li>
                                                                            </ul>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </span>
                                                            <span class="validation-area">
                                                                <div class="btn-group">
                                                                    <a class="btn dropdown-toggle dropdown-small-fluid" data-toggle="dropdown" href="#" ng-class="{'btn-danger': filter.negationOperator == undefined}" ng-disabled="!filter.key">
                                                                        {{msg(((filter.negationOperator == true || filter.negationOperator == false) && 'info.filter.' + filter.negationOperator) || 'info.filter.select')}}
                                                                        <span class="caret"></span>
                                                                    </a>
                                                                    <ul class="dropdown-menu" ng-hide="!filter.key">
                                                                        <li>
                                                                            <a ng-click="filter.negationOperator = true">{{msg('info.filter.true')}}</a>
                                                                            <a ng-click="filter.negationOperator = false">{{msg('info.filter.false')}}</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </span>
                                                            <span class="validation-area">
                                                                <div class="btn-group">
                                                                    <a class="btn dropdown-toggle dropdown-medium-fluid" data-toggle="dropdown" href="#" ng-class="{'btn-danger': !filter.operator}" ng-disabled="filter.negationOperator == undefined">
                                                                        {{msg(filter.operator || 'info.filter.select')}}
                                                                        <span class="caret"></span>
                                                                    </a>
                                                                    <ul class="dropdown-menu" ng-hide="filter.negationOperator == undefined">
                                                                        <li ng-repeat="operator in operators(filter)">
                                                                            <a ng-click="filter.operator = operator">{{msg(operator)}}</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </span>
                                                            <span class="validation-area" ng-class="{error: filter.operator != 'exist' && !filter.expression}">
                                                                <input ng-disabled="!filter.operator || filter.operator == 'exist'" ng-model="filter.expression" class="input-medium" type="text" value=""/>
                                                            </span>
                                                            <a ng-click="removeFilter(step, filter)" class="btn btn-small btn-danger"><i class="icon-trash icon-white"></i></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="control-group">
                                                <button ui-if="!step.filters.length" class="btn btn-success" ng-click="addFilter(step)"><i class="icon-plus icon-white"></i> {{msg('button.addFilter')}}</button>
                                                <button ui-if="step.filters.length" class="btn btn-success" ng-click="addFilter(step)"><i class="icon-plus icon-white"></i> {{msg('button.addAnotherFilter')}}</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ui-if="step['@type'] == 'DataSource'" class="accordion" id="step-{{step.order}}" overflow-change expand-accordion>
                            <div class="task-group">
                                <div class="accordion-heading">
                                    <div class="pull-right">
                                        <button ng-click="removeData(step)" class="btn btn-danger btn-in-heading">
                                            <i class="icon-remove icon-white"></i>
                                        </button>
                                    </div>
                                    <a class="accordion-toggle inbox-header" style="cursor: auto;">
                                        <i class="icon-caret-down icon-fixed-width icon-large" data-toggle="collapse" data-parent="#data-source-{{step.order}}" href="#collapse-step-{{step.order}}" style="cursor: pointer;"></i> {{msg('subsection.data')}}
                                        <span ng-hide="!step.displayName">
                                            &raquo; {{msg(step.providerName)}} : {{msg(step.displayName)}}
                                        </span>
                                        <span ng-hide="!step.lookup.field">
                                            {{msg('by')}} {{msg(step.lookup.field)}}
                                        </span>
                                    </a>
                                </div>
                                <div id="collapse-step-{{step.order}}" class="accordion-body stripes-bg collapse in overflowChange" style="overflow: visible;">
                                    <div class="accordion-inner inside">
                                        <div class="control-group control-section">
                                            <label class="control-label task-label">{{msg('info.availableFields')}}:</label>
                                            <div class="controls move-element">
                                                <span contenteditable="false" ng-repeat="i in selectedTrigger.eventParameters" class="badge badge-info triggerField" draggable data-prefix="trigger" data-index="{{$index}}" data-type="{{i.type}}">{{msg(i.displayName)}}</span>​
                                                <span ng-repeat="ds in getDataSources() | idLessThan:step.objectId">
                                                    <span contenteditable="false" ng-repeat="i in findObject(ds.providerId, ds.type).fields" class="badge badge-warning triggerField" draggable
                                                          data-prefix="ad" data-source="{{ds.providerName}}" data-object="{{ds.displayName}}" data-object-type="{{ds.type}}"
                                                          data-field="{{i.fieldKey}}" data-index="{{$index}}" data-object-id="{{ds.objectId}}" data-type="{{i.type}}">
                                                        {{msg(ds.providerName)}}.{{msg(ds.displayName)}}#{{ds.objectId}}.{{msg(i.displayName)}}
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="control-group">
                                            <span class="control-label">{{msg('subsubsection.source')}}:</span>
                                            <div class="btn-group interval">
                                                <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                    {{msg(step.providerName || 'select')}}
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu">
                                                    <li ng-repeat="dataSource in dataSources">
                                                        <a ng-click="selectDataSource(step, dataSource)">{{msg(dataSource.name)}}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <span class="interval2">{{msg('subsubsection.object')}}:</span>
                                            <div class="btn-group interval">
                                                <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                    {{msg(step.displayName || 'select')}}
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu">
                                                    <li ng-repeat="object in findDataSource(step.providerId).objects">
                                                        <a ng-click="selectObject(step, object)">{{msg(object.displayName)}}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="control-group" ui-if="step.displayName">
                                            <span class="control-label">{{msg('subsubsection.lookup')}}:</span>
                                            <div class="btn-group interval">
                                                <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                    {{msg(step.lookup.field || 'select')}}
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu">
                                                    <li ng-repeat="lookup in findObject(step.providerId, step.type).lookupFields">
                                                        <a ng-click="selectLookup(step, lookup)">{{msg(lookup)}}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="control-group" ui-if="step.displayName">
                                            <span class="control-label">{{msg('subsubsection.failIfDataNotFound')}}</span>
                                            <div class="controls">
                                                <div class="btn-group">
                                                    <input type="checkbox" ng-model="step.failIfDataNotFound"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div ui-if="step.lookup.field">
                                            <div class="control-group" ng-class="{error: actionCssClass(step.lookup)}" class="control-group form-inline clearfix">
                                                <label class="control-label">{{msg(step.lookup.field)}}</label>

                                                <!------------------------ Chrome & IE ------------------------>
                                                <div ui-if="BrowserDetect.browser=='Chrome' || BrowserDetect.browser=='Explorer'" class="controls">
                                                    <editable-content data="step.lookup" index="$index" type="UNICODE"></editable-content>
                                                </div>

                                                <!------------------------ Other browsers  ------------------------>
                                                <div ui-if="BrowserDetect.browser!='Chrome' && BrowserDetect.browser!='Explorer'" class="controls">
                                                    <input type="text" ng-model="step.lookup.value" droppable class="dataSourceField span8" data-index="{{step.providerId}}" data-object-id="{{step.objectId}}" data-type="UNICODE"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="control-group margin-before3 control-section" ng-hide="step.displayName == undefined">
                                            <label class="control-label task-label">{{msg('subsubsection.objectFields')}}</label>
                                            <div class="controls move-element">
                                                <span ng-repeat="field in findObject(step.providerId, step.type).fields" class="badge badge-warning">{{msg(field.displayName)}}</span>​
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!------------------------ ADDING BUTTONS ------------------------>
                    <div class="row-fluid inside section-additives">
                        <div class="control-group centered">
                            <div class="btn-group">
                                <button class="btn btn-warning" ng-click="addFilterSet()"><i class="icon-plus icon-white"></i> {{msg('button.addFilterSet')}}</button>
                                <button ui-if="dataSources != undefined && dataSources.length != 0" class="btn btn-warning" ng-click="addDataSource()"><i class="icon-white icon-plus"></i> {{msg('button.addDataSource')}}</button>
                                <button class="btn btn-warning" ng-click="addAction()"><i class="icon-white icon-plus"></i> {{msg('button.addAction')}}</button>
                            </div>
                        </div>
                    </div>

                    <!------------------------  ACTION  ------------------------->
                    <div class="accordion" id="select-action-{{$index}}" ng-repeat="action in task.actions" overflow-change expand-accordion>
                        <div class="task-group">
                            <div class="accordion-heading">
                                <div class="pull-right">
                                    <button ng-click="removeAction($index)" class="btn btn-danger btn-in-heading">
                                        <i class="icon-remove icon-white"></i>
                                    </button>
                                </div>
                                <a class="accordion-toggle inbox-header" style="cursor: auto;" action-sortable-cursor>
                                    <i class="icon-caret-down icon-fixed-width icon-large" data-toggle="collapse" data-parent="#select-action-{{$index}}" href="#collapse-action-{{$index}}" style="cursor: pointer;"></i> {{msg('header.action')}}
                                    <span ng-hide="!action.displayName">
                                        &raquo; {{msg(action.channelName)}} : {{msg(action.displayName)}}
                                    </span>
                                </a>
                            </div>
                            <div id="collapse-action-{{$index}}" class="accordion-body stripes-bg collapse in overflowChange" style="overflow: visible;">
                                <div class="accordion-inner inside">
                                    <div class="control-group control-section">
                                        <label class="control-label task-label">{{msg('info.availableFields')}}:</label>
                                        <div class="controls move-element">
                                            <span contenteditable="false" ng-repeat="i in selectedTrigger.eventParameters" class="badge badge-info triggerField" draggable data-prefix="trigger" data-index="{{$index}}" data-type="{{i.type}}">{{msg(i.displayName)}}</span>​
                                            <span ng-repeat="ds in getDataSources()">
                                                <span contenteditable="false" ng-repeat="i in findObject(ds.providerId, ds.type).fields" class="badge badge-warning triggerField" draggable
                                                      data-prefix="ad" data-source="{{ds.providerName}}" data-object="{{ds.displayName}}" data-object-type="{{ds.type}}"
                                                      data-field="{{i.fieldKey}}" data-index="{{$index}}" data-object-id="{{ds.objectId}}" data-type="{{i.type}}">
                                                    {{msg(ds.providerName)}}.{{msg(ds.displayName)}}#{{ds.objectId}}.{{msg(i.displayName)}}
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <span class="control-label">{{msg('channel')}}:</span>
                                        <div class="btn-group interval">
                                            <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                {{msg(selectedActionChannel[$index].displayName || 'select')}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li ng-repeat="channel in util.channels.withActions(channels)">
                                                    <a ng-click="selectActionChannel($parent.$index, channel)">{{msg(channel.displayName)}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <span class="interval2">{{msg('action')}}:</span>
                                        <div class="btn-group interval">
                                            <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                {{msg(selectedAction[$index].displayName || 'select')}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li ng-repeat="a in getActions($index)">
                                                    <a ng-click="selectAction($parent.$index, a)">{{msg(a.displayName)}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="control-group" ng-show="selectedAction[$index].description">
                                        <label class="control-label">{{msg(selectedAction.description)}}</label>
                                    </div>
                                    <div ui-if="selectedAction[$index]">
                                        <div class="control-group" ng-class="{error: actionCssClass(i)}" ng-repeat="i in selectedAction[$index].actionParameters" class="control-group form-inline clearfix">
                                            <label class="control-label tip">
                                                {{msg(i.displayName)}}
                                                <!------------------------ Tooltips ------------------------>
                                                <span class="help-inline" ui-if="i.type == 'LIST'" help-popover="list" data-title="{{msg('header.listHelp')}}"><i class="icon-question-sign"></i></span>
                                                <span class="help-inline" ui-if="i.type == 'MAP'" help-popover="map" data-title="{{msg('header.mapHelp')}}"><i class="icon-question-sign"></i></span>
                                            </label>

                                            <!------------------------ Chrome & IE ------------------------>
                                            <div ui-if="BrowserDetect.browser=='Chrome' || BrowserDetect.browser=='Explorer'" class="controls">
                                                <editable-content ui-if="i.type == 'UNICODE'" data="i" index="{{$index}}" type="UNICODE"></editable-content>
                                                <editable-content ui-if="i.type == 'TEXTAREA' || i.type == 'MAP' || i.type == 'LIST'" data="i" index="{{$index}}" type="TEXTAREA"></editable-content>
                                                <editable-content ui-if="i.type == 'INTEGER' || i.type == 'LONG'" data="i" index="{{$index}}" type="INTEGER"></editable-content>
                                                <editable-content ui-if="i.type == 'DOUBLE'" data="i" index="{{$index}}" type="DOUBLE"></editable-content>
                                                <editable-content ui-if="i.type == 'TIME'" data="i" index="{{$index}}" action="{{$parent.$parent.$parent.$index}}" type="TIME"></editable-content>
                                                <editable-content ui-if="i.type == 'DATE'" data="i" index="{{$index}}" action="{{$parent.$parent.$parent.$index}}" type="DATE"></editable-content>
                                                <div ui-if="i.type == 'BOOLEAN'">
                                                    <label class="radio-inline no-margin-top">
                                                        <input type="radio" class="input-block-level" ng-checked="checkedBoolean($parent.$parent.$parent.$index, $index, 'true')" ng-click="setBooleanValue($parent.$parent.$parent.$index, $index, true)"/> {{msg('yes')}}
                                                    </label>
                                                    <label class="radio-inline no-margin-top">
                                                        <input type="radio" class="input-block-level" ng-checked="checkedBoolean($parent.$parent.$parent.$index, $index, 'false')" ng-click="setBooleanValue($parent.$parent.$parent.$index, $index, false)"/> {{msg('no')}}
                                                    </label>
                                                    <label class="radio-inline input-large-fluid no-margin-bottom">
                                                        <editable-content data="i" index="$index" type="BOOLEAN"></editable-content>
                                                    </label>
                                                </div>
                                            </div>

                                            <!------------------------ Other browsers  ------------------------>
                                            <div ui-if="BrowserDetect.browser!='Chrome' && BrowserDetect.browser!='Explorer'" class="controls">
                                                <textarea ui-if="i.type == 'TEXTAREA' || i.type == 'MAP' || i.type == 'LIST'" rows="5" ng-model="i.value" droppable class="actionField span8" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}"></textarea>
                                                <input ui-if="i.type == 'INTEGER' || i.type == 'LONG'" type="text" ng-model="i.value" droppable class="actionField span8" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}" integer placeholder="{{msg('placeholder.numberOnly')}}"/>
                                                <input ui-if="i.type == 'DOUBLE'" type="text" ng-model="i.value" droppable class="actionField span8" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}" integer placeholder="{{msg('placeholder.numberOnly')}}"/>
                                                <input ui-if="i.type == 'UNICODE'" type="text" ng-model="i.value" droppable class="actionField span8" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}"/>
                                                <input ui-if="i.type == 'DATE'" type="text" ng-model="i.value" droppable class="actionField span8" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}" datetime-picker-input placeholder="{{msg('placeholder.dateOnly')}}" readonly="readonly" style="background:white;"/>
                                                <input ui-if="i.type == 'TIME'" type="text" ng-model="i.value" droppable class="actionField span8" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}" time-picker-input placeholder="{{msg('placeholder.timeOnly')}}" readonly="readonly" style="background:white;"/>
                                                <div ui-if="i.type == 'BOOLEAN'">
                                                    <label class="radio radio-inline">
                                                        <input type="radio" ng-model="i.value" class="input-block-level" value="true"/> {{msg('yes')}}
                                                    </label>
                                                    <label class="radio radio-inline">
                                                        <input type="radio" ng-model="i.value" class="input-block-level" value="false"/> {{msg('no')}}
                                                    </label>
                                                    <label class="radio-inline input-large-fluid">
                                                        <input type="text" value="{{getBooleanValue(i.value)}}" droppable class="actionField" data-index="{{$index}}" data-type="{{i.type}}" data-action="{{$parent.$parent.$parent.$index}}" placeholder="{{msg('placeholder.booleanOnly')}}" readonly="readonly" style="background:white;"/>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <!------------------------ Help button  ------------------------>
                                        <a ui-if="BrowserDetect.browser!='Chrome' && BrowserDetect.browser!='Explorer'" href="#helpModalDate" role="button" class="btn btn-primary" data-toggle="modal">{{msg('help')}}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!------------------------ Help Manipulation  ------------------------>
                    <div ng-include="'../tasks/partials/help/manipulation.html'"></div>

                    <!------------------------ SAVE ------------------------>
                    <div class="control-group inside">
                        <h4 class="margin-center centered input-large-fluid">{{msg('section.save')}}</h4>
                        <p class="centered input-xxlarge-fluid margin-center">{{msg('info.addSave')}}</p>
                        <div class="clearfix"></div>
                        <div class="control-group centered inside">
                            <button ng-disabled="!task.name" ng-click="save(true)" class="btn btn-primary">{{msg('button.saveAndEnable')}}</button>
                            <button ng-disabled="!task.name" ng-click="save(false)" class="btn btn-success">{{msg('button.save')}}</button>
                            <a href="#//tasks/dashboard" class="btn"> {{msg('button.cancel')}}</a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
